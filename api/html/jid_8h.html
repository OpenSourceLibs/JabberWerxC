<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>JabberWerxC: jid.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JabberWerxC
   &#160;<span id="projectnumber">2015.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_849b60ffe128985f6c5d0ef3e5284e22.html">include</a></li><li class="navelem"><a class="el" href="dir_9e648087d18bc011163f1fa270b33ab2.html">jabberwerx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jid.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions and data structures for JIDs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="mem_8h_source.html">util/mem.h</a>&quot;</code><br />
</div>
<p><a href="jid_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5b19af626a03df14fdf25453fd7db7ff"><td class="memItemLeft" align="right" valign="top">typedef struct _jw_jid_ctx_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a></td></tr>
<tr class="separator:a5b19af626a03df14fdf25453fd7db7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194474fb728af0681db2e5fc5dcc27ef"><td class="memItemLeft" align="right" valign="top">typedef struct _jw_jid_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a></td></tr>
<tr class="separator:a194474fb728af0681db2e5fc5dcc27ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af20dc70a57c1e7a0f94dd6dbd9a7600b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#af20dc70a57c1e7a0f94dd6dbd9a7600b">jw_jid_context_create</a> (size_t bucket_count, <a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> **ctx, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:af20dc70a57c1e7a0f94dd6dbd9a7600b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07dd253f3c7d76edc27376e3f44176c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#af07dd253f3c7d76edc27376e3f44176c">jw_jid_context_destroy</a> (<a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *ctx)</td></tr>
<tr class="separator:af07dd253f3c7d76edc27376e3f44176c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb48deeb2940552cf327bc08dcdcb18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#abeb48deeb2940552cf327bc08dcdcb18">jw_jid_context_htable_cleaner</a> (bool replace, bool destroy_key, void *key, void *data)</td></tr>
<tr class="separator:abeb48deeb2940552cf327bc08dcdcb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335750b453412ac1ffa5aecb8ab04fbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="mem_8h.html#a07d7228a240d61b783d9b8395e72c656">jw_pool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a335750b453412ac1ffa5aecb8ab04fbf">jw_jid_context_get_pool</a> (<a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *ctx)</td></tr>
<tr class="separator:a335750b453412ac1ffa5aecb8ab04fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac561724120c1af32ac55e423457a271"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#aac561724120c1af32ac55e423457a271">jw_jid_create</a> (<a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *ctx, const char *jidstr, <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **jid, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:aac561724120c1af32ac55e423457a271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a1ce760c999ef6a29568388bbee655"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a25a1ce760c999ef6a29568388bbee655">jw_jid_create_by_parts</a> (<a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *ctx, const char *localpart, const char *domainpart, const char *resourcepart, <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **jid, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a25a1ce760c999ef6a29568388bbee655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab495a453dd724657006b9b8992346f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a9ab495a453dd724657006b9b8992346f">jw_jid_copy</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:a9ab495a453dd724657006b9b8992346f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62f6db78c9dad9a1d47b8c435ea4f0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#ac62f6db78c9dad9a1d47b8c435ea4f0e">jw_jid_destroy</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:ac62f6db78c9dad9a1d47b8c435ea4f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19c46fbbe54dd3721126f3d66a00f65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#aa19c46fbbe54dd3721126f3d66a00f65">jw_jid_get_context</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:aa19c46fbbe54dd3721126f3d66a00f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ea05e91a5ab7da14c883c6f95e8416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a93ea05e91a5ab7da14c883c6f95e8416">jw_jid_import</a> (<a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *ctx, <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid, <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **cpy, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a93ea05e91a5ab7da14c883c6f95e8416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f442edb0acfdb92bfe8d9d6f608c1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a97f442edb0acfdb92bfe8d9d6f608c1c">jw_jid_valid</a> (const char *jidstr)</td></tr>
<tr class="separator:a97f442edb0acfdb92bfe8d9d6f608c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fb21d27083b52011a20d49ef052632"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a61fb21d27083b52011a20d49ef052632">jw_jid_get_localpart</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:a61fb21d27083b52011a20d49ef052632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85473a1eb4f131ab75db053c58fbfff4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a85473a1eb4f131ab75db053c58fbfff4">jw_jid_get_domain</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:a85473a1eb4f131ab75db053c58fbfff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a0733f84a584ac048635ae4b1e2006"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#ad1a0733f84a584ac048635ae4b1e2006">jw_jid_get_resource</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:ad1a0733f84a584ac048635ae4b1e2006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab702ce24d3762a7c24b2c5f95485ae5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#ab702ce24d3762a7c24b2c5f95485ae5d">jw_jid_get_bare</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:ab702ce24d3762a7c24b2c5f95485ae5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac70d669774318f76ecfc03a8eeb7330"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#aac70d669774318f76ecfc03a8eeb7330">jw_jid_get_full</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:aac70d669774318f76ecfc03a8eeb7330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a70632dd398bc7804c52569d6d5f4a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a3a70632dd398bc7804c52569d6d5f4a8">jw_jid_get_bare_jid</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *jid)</td></tr>
<tr class="separator:a3a70632dd398bc7804c52569d6d5f4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ef4282f9892da0ad43d85890202393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#ac8ef4282f9892da0ad43d85890202393">jw_jid_cmp</a> (<a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *lhs, <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *rhs)</td></tr>
<tr class="separator:ac8ef4282f9892da0ad43d85890202393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610d98952a830b874e9ca99e09ade241"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#a610d98952a830b874e9ca99e09ade241">jw_jid_escape_localpart</a> (const char *localpart, char **result, size_t *result_len, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a610d98952a830b874e9ca99e09ade241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba852647fff77e2900d1da4a16f23c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jid_8h.html#abba852647fff77e2900d1da4a16f23c1">jw_jid_unescape_localpart</a> (const char *localpart, char **result, size_t *result_len, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:abba852647fff77e2900d1da4a16f23c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions and data structures for JIDs. </p>
<p><b>NOTE:</b> This API is not thread-safe. Users MUST ensure all jid instances related to a particular jw_jid_ctx are never accessed simultaneously by multiple threads. Simultaneous access to jids in separate jw_jid_ctx contexts is ok.</p>
<p><b>NOTE:</b> All strings passed to JID functions must be null-terminated UTF8 strings, and all strings returned from them are null-terminated UTF8 strings. Be aware strlen() will return the number of bytes a string contains, not necessarily the number of characters.</p>
<p><b>NOTE:</b> All localparts passed to JID functions (apart from jw_jid_escape_localpart) must be escaped. All returned localparts (except those from jw_jid_unescape_localpart) are escaped.</p>
<p>Copyrights</p>
<p>Portions created or assigned to Cisco Systems, Inc. are Copyright (c) 2010-2015 Cisco Systems, Inc. All Rights Reserved. See LICENSE for details. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a194474fb728af0681db2e5fc5dcc27ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _jw_jid_int <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An instance of a JID </p>

</div>
</div>
<a class="anchor" id="a5b19af626a03df14fdf25453fd7db7ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _jw_jid_ctx_int <a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An instance of a JID context. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac8ef4282f9892da0ad43d85890202393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> int jw_jid_cmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compare two JIDs.</p>
<p>NULL &lt; !NULL. Compares domain -&gt; localpart -&gt; resource. For example; </p><pre class="fragment">*  foo@bar1/res &gt; foo1@bar0/res &gt; foo0@bar0/res1 &gt; foo0@bar0@res0
*  foo@bar1/res &gt; zzz@bar0/res
*  foo1@bar/res &gt; foo0@bar/res
*  bar1/res1 &gt; bar1/res0 &gt; foo@bar0/res0
*  foo@bar1 &gt; bar0
* </pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lhs</td><td>"left hand side" JID. May be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rhs</td><td>"right hand side" JID. May be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>When the comparison yields equality 0 is returned. See strcmp for the non-zero return value semantics. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af20dc70a57c1e7a0f94dd6dbd9a7600b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_context_create </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bucket_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> **&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new jw_jid_ctx. The context will keep a reference to the JIDs created with it. JID lifetimes are managed by the context and any cached jw_jids are completely destroyed when the context is destroyed.</p>
<p>The context has a jw_pool associated with it for use by the user as an onDestroy mechanism. Users may access the pool using jw_jid_context_get_pool and add a cleaner to be notified when the JIDs are about to be destroyed.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if JID tables could not be initialized</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bucket_count</td><td>The number of buckets to use in the JID hashtable. If 0, defaults to a size appropriate for clients. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ctx</td><td>The newly created JID context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if context was successfully created, otherwise false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af07dd253f3c7d76edc27376e3f44176c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_jid_context_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the given jw_jid_ctx. All jw_jids associated with this context are completely destroyed regardless of their reference count.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The jw_jid_ctx to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a335750b453412ac1ffa5aecb8ab04fbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="mem_8h.html#a07d7228a240d61b783d9b8395e72c656">jw_pool</a>* jw_jid_context_get_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the jw_pool memory pool for the given context. NOTE - Pool lifetime is controlled by the owning context, users must not free this pool reference.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The jw_jid context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_pool</td><td>the associated memory pool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abeb48deeb2940552cf327bc08dcdcb18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_jid_context_htable_cleaner </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>destroy_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls jw_jid_context_destroy on data associated with a jw_htable node. This can be used to clean up a jid context when the keys are static values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">replace</td><td>Ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">destroy_key</td><td>Ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The jid context that will be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9ab495a453dd724657006b9b8992346f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a>* jw_jid_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increment a jid reference count.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_jid</td><td>The newly copied jw_jid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac561724120c1af32ac55e423457a271"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>jidstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **&#160;</td>
          <td class="paramname"><em>jid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new JID from a string representation of a complete JID. The returned jw_jid may be explicitly freed via jw_jid_destroy, or may be left to be automatically freed when the associated jw_jid_ctx is destroyed.</p>
<p>It is important to note that each part of the given jidstr must conform to the requirements detailed in the <a class="el" href="jid_8h.html#a25a1ce760c999ef6a29568388bbee655">jw_jid_create_by_parts()</a>.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_INVALID_ARG</code> if jidstr is NULL or cannot be parsed into a valid JID (see RFC 6122 Addressing) </li>
<li><code>JW_ERR_NO_MEMORY</code> if JID structures could not be created.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd>
<dd>
jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The context to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jidstr</td><td>The JID string to be parsed into a jw_jid. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">jid</td><td>The resultant jw_jid, set on success </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a25a1ce760c999ef6a29568388bbee655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_create_by_parts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>localpart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>domainpart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resourcepart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **&#160;</td>
          <td class="paramname"><em>jid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new JID from individual parts. The returned jw_jid may be explicitly freed via jw_jid_destroy, or may be left to be automatically freed when the associated jw_jid_ctx is destroyed.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_INVALID_ARG</code> if parts cannot be parsed and combined into a valid JID (see RFC 3920 Addressing) </li>
<li><code>JW_ERR_NO_MEMORY</code> if JID structures could not be initialized</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd>
<dd>
jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The jw_jid_ctx to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">localpart</td><td>The escaped localpart part of the JID. May be zero-length, or, equivalently, NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domainpart</td><td>The domain part of the JID. Must be a valid DNS-resolvable hostname, a dotted IPv4 address, or a square bracket-enclosed colon-separated IPv6 address. Hostnames must conform to RFC 1123, e.g. only contain valid characters and be less than 255 characters long. The RFC is relaxed in that we allow underscores in the hostname string. A NULL or empty value results in an invalid arg error response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resourcepart</td><td>The resource part of the JID. May be zero-length, or, equivalently, NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">jid</td><td>The resultant jw_jid, set on success </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac62f6db78c9dad9a1d47b8c435ea4f0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_jid_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrement the reference count for a jid and release memory as needed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID to release. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a610d98952a830b874e9ca99e09ade241"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_escape_localpart </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>localpart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>result_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Escape a JID localpart character string according to XEP-0106.</p>
<p><b>NOTE:</b> This function will allocate the memory needed to store the escaped localpart. The result MUST be released using jw_data_free.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEM</code> If space could not be allocated for result.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>result != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">localpart</td><td>The null terminated localpart to be escaped. May be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>The escaped version of localpart, NULL if localpart is NULL </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result_len</td><td>The size of the result string, ignored if NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if encoding was successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab702ce24d3762a7c24b2c5f95485ae5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_jid_get_bare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the bare JID ([localpart@]domain) as a string.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which the bare JID is extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">char*</td><td>Returns the [localpart@]domain form of the JID. If localpart exists, it will be in escaped form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3a70632dd398bc7804c52569d6d5f4a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a>* jw_jid_get_bare_jid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the bare JID ([localpart@]domain) as a jw_jid. The caller is responsible for releasing the resultant JID using jw_jid_destroy.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which the bare JID is extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_jid</td><td>Returns a jw_jid populated with the [localpart@]domain form of the JID. If JID was already a bare JID, the same JID is returned and its reference count will be increased. Caller must call jw_jid_destroy to free this reference, or else allow it to be reclaimed when the context is destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa19c46fbbe54dd3721126f3d66a00f65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a>* jw_jid_get_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the given JID's context.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_jid_ctx</td><td>The associated context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85473a1eb4f131ab75db053c58fbfff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_jid_get_domain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the domain part of the JID as a string.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which the domain is extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">char*</td><td>Returns the domain portion of the JID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac70d669774318f76ecfc03a8eeb7330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_jid_get_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the full JID ([localpart@]domain[/resource]) as a string.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which the full JID is extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">char*</td><td>Returns the [localpart@]domain[/resource] form of the JID. If localpart exists, it will be in escaped form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a61fb21d27083b52011a20d49ef052632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_jid_get_localpart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the localpart part of JID as a string.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which to get the localpart </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>String representing localpart. May be NULL if no localpart exists. localpart will be in escaped form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad1a0733f84a584ac048635ae4b1e2006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_jid_get_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the resource part of the JID as a string.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>jid != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID from which the resource is extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">char*</td><td>Returns the resource portion of the JID. May be NULL if resource does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93ea05e91a5ab7da14c883c6f95e8416"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_import </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a5b19af626a03df14fdf25453fd7db7ff">jw_jid_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> *&#160;</td>
          <td class="paramname"><em>jid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jid_8h.html#a194474fb728af0681db2e5fc5dcc27ef">jw_jid</a> **&#160;</td>
          <td class="paramname"><em>cpy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import a given JID into the given context and return a reference to the new copy. This function behaves like jw_jid_create with parsing and stringprep optimizations.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if copy could not be created.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ctx != NULL </dd>
<dd>
jid != NULL </dd>
<dd>
cpy != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The context into which this JID will be imported. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jid</td><td>The JID to import. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cpy</td><td>A copy of JID within the new context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if JID was successfully imported into ctx, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abba852647fff77e2900d1da4a16f23c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_unescape_localpart </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>localpart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>result_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unescape a JID localpart character string according to XEP-0106</p>
<p><b>NOTE:</b> This function will allocate the memory needed to store the unescaped localpart. The result MUST be released using jw_data_free.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEM</code> If space could not be allocated for result.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>result != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">localpart</td><td>The null terminated localpart to be unescaped. May be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>The unescaped version of localpart, NULL if localpart is NULL </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result_len</td><td>The size of the result string, ignored if NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if encoding was successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97f442edb0acfdb92bfe8d9d6f608c1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_jid_valid </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>jidstr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse jidstr to determine if it represents a valid JID (see RFC3920::Addressing). This returns false exactly when jw_jid_create returns false, except that it cannot fail due to low memory conditions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jidstr</td><td>The JID string to parse and test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true when jidstr is valid and false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2015 12:17:54 for JabberWerxC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
