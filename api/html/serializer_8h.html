<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>JabberWerxC: serializer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JabberWerxC
   &#160;<span id="projectnumber">2015.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_849b60ffe128985f6c5d0ef3e5284e22.html">include</a></li><li class="navelem"><a class="el" href="dir_9e648087d18bc011163f1fa270b33ab2.html">jabberwerx</a></li><li class="navelem"><a class="el" href="dir_ada9dcaec615b54a1cb7dcb7ee31db49.html">util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">serializer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>XML stream serializer for JabberWerxC.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;event2/buffer.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dom_8h_source.html">../dom.h</a>&quot;</code><br />
</div>
<p><a href="serializer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae4e9231d58f57af4173655e845a2d238"><td class="memItemLeft" align="right" valign="top">typedef struct _jw_serializer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a></td></tr>
<tr class="separator:ae4e9231d58f57af4173655e845a2d238"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd3dac42bad6eac6e649d4a293de47a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#acd3dac42bad6eac6e649d4a293de47a3">jw_serializer_create</a> (struct evbuffer *out, <a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> **ser, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:acd3dac42bad6eac6e649d4a293de47a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6408821cbaa81aa8568176978803c81a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a6408821cbaa81aa8568176978803c81a">jw_serializer_destroy</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser)</td></tr>
<tr class="separator:a6408821cbaa81aa8568176978803c81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180989fda3481a7e463b02db41ec2875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct evbuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a180989fda3481a7e463b02db41ec2875">jw_serializer_get_output</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser)</td></tr>
<tr class="separator:a180989fda3481a7e463b02db41ec2875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c29409bc45957b7f45423a95bb4b539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a5c29409bc45957b7f45423a95bb4b539">jw_serializer_is_open</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser)</td></tr>
<tr class="separator:a5c29409bc45957b7f45423a95bb4b539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de36ae00673579d5eec73a2971a80ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a0de36ae00673579d5eec73a2971a80ea">jw_serializer_write_start</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser, <a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *root, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a0de36ae00673579d5eec73a2971a80ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab622fb434e8382d07843bf924ccbff4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#ab622fb434e8382d07843bf924ccbff4a">jw_serializer_write</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser, <a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *node, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:ab622fb434e8382d07843bf924ccbff4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b0643601853b003cb7f14509c9b5d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a17b0643601853b003cb7f14509c9b5d1">jw_serializer_write_end</a> (<a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *ser, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a17b0643601853b003cb7f14509c9b5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153eb4fc21b0aacda4daaa49d43632d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a153eb4fc21b0aacda4daaa49d43632d6">jw_serialize_xml</a> (<a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *dom, char **xml, size_t *len, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a153eb4fc21b0aacda4daaa49d43632d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093ccb0f3937cdb9772b36d25d66e247"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serializer_8h.html#a093ccb0f3937cdb9772b36d25d66e247">jw_serialize_xml_buffer</a> (<a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *dom, struct evbuffer *buffer, size_t *len, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a093ccb0f3937cdb9772b36d25d66e247"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>XML stream serializer for JabberWerxC. </p>
<p><b>NOTE:</b> This API is not thread-safe. Users MUST ensure access to all instances of a serializer is limited to a single thread.</p>
<p>Copyrights</p>
<p>Portions created or assigned to Cisco Systems, Inc. are Copyright (c) 2010-2015 Cisco Systems, Inc. All Rights Reserved. See LICENSE for details. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ae4e9231d58f57af4173655e845a2d238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _jw_serializer <a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An instance of a xml serializer </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a153eb4fc21b0aacda4daaa49d43632d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serialize_xml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serializes the given DOM element into an XML string.</p>
<p><b>NOTE:</b> This function allocates the memory for the returned XML string as needed. Users MUST destroy the memory allocated via jw_data_free(xml), and SHOULD NOT allocate memory for xml directly.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if there is not enough memory to serialize dom</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>dom != NULL </dd>
<dd>
jw_dom_get_nodetype(dom) == JW_DOM_TYPE_ELEMENT </dd>
<dd>
xml != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dom</td><td>The DOM element to serialize </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">xml</td><td>The XML string for dom </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>If non-NULL, the length of the XML string for dom </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a093ccb0f3937cdb9772b36d25d66e247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serialize_xml_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evbuffer *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serializes the given DOM element into an evbuffer.</p>
<p><b>NOTE:</b> The data written to the buffer does NOT include a NULL terminator.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if there is not enough memory to serialize dom</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>dom != NULL </dd>
<dd>
jw_dom_get_nodetype(dom) == JW_DOM_TYPE_ELEMENT </dd>
<dd>
buffer != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dom</td><td>The DOM element to serialize </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>The evbuffer containing serialized dom </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>The length of the serialized dom </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd3dac42bad6eac6e649d4a293de47a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serializer_create </td>
          <td>(</td>
          <td class="paramtype">struct evbuffer *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> **&#160;</td>
          <td class="paramname"><em>ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new serializer, using the given buffer for output.</p>
<p><b>NOTE:</b> The output buffer is not owned by this serializer. The API user MUST free the buffer when finished; <a class="el" href="serializer_8h.html#a6408821cbaa81aa8568176978803c81a">jw_serializer_destroy()</a> does not destroy it.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if the serializer could not be allocated</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd>
<dd>
out != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>The evbuffer to serialize to </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ser</td><td>The new serializer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if serializer was successfully created, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6408821cbaa81aa8568176978803c81a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_serializer_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys the given serializer.</p>
<p><b>NOTE:</b> The output buffer associated with ser is not freed when this function is called. The API user MUST destroy the buffer manually.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>(ser != NULL) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a180989fda3481a7e463b02db41ec2875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct evbuffer* jw_serializer_get_output </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the output buffer for the given serializer.</p>
<p><b>WARNING:</b> Users SHOULD NOT write to this buffer directly without good reason; modifying the buffer directly can result in malformed XML.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">struct</td><td>evbuffer * The output buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5c29409bc45957b7f45423a95bb4b539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serializer_is_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the current open state of the given serializer. This function returns true after jw_serializer_open() but before jw_serializer_close().</p>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the serializer is open, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab622fb434e8382d07843bf924ccbff4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serializer_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processes the given DOM node into this serializer. If this serializer is not open, it will open it using node, then close it before returning successfully.</p>
<p><b>NOTE:</b> This function does not immediately free all memory allocated. Most will be freed when <a class="el" href="serializer_8h.html#a6408821cbaa81aa8568176978803c81a">jw_serializer_destroy()</a> is called, although any memory allocated to the configured buffer will be released when it is destroyed.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if memory could not be allocted for serializing. </li>
<li><code>JW_ERR_INVALID_ARG</code> if this serializer is not open, and node is is not a JW_DOM_TYPE_ELEMENT</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd>
<dd>
node != NULL </dd>
<dd>
(jw_dom_get_nodetype(node) == JW_DOM_TYPE_ELEMENT) || (jw_dom_get_nodetype(node) == JW_DOM_TYPE_TEXT) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>The node DOM node to process </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if node was successfully processed, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17b0643601853b003cb7f14509c9b5d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serializer_write_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the given serializer. This function writes the end tag that matches the root DOM element from jw_serializer_open().</p>
<p><b>NOTE:</b> This function does not immediately free all memory allocated. Most will be freed when <a class="el" href="serializer_8h.html#a6408821cbaa81aa8568176978803c81a">jw_serializer_destroy()</a> is called, although any memory allocated to the configured buffer will be released when it is destroyed.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if memory could not be allocted for serializing. </li>
<li><code>JW_ERR_INVALID_STATE</code> if the serializer is not open</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if serializer was successfully closed, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0de36ae00673579d5eec73a2971a80ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_serializer_write_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serializer_8h.html#ae4e9231d58f57af4173655e845a2d238">jw_serializer</a> *&#160;</td>
          <td class="paramname"><em>ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the given serializer, using the given root element. This function writes start tag based on the information from root (expanded name, namespace declarations, and attributes), but does not process any children of root.</p>
<p><b>NOTE:</b> This function does not immediately free all memory allocated. Most will be freed when <a class="el" href="serializer_8h.html#a6408821cbaa81aa8568176978803c81a">jw_serializer_destroy()</a> is called, although any memory allocated to the configured buffer will be released when it is destroyed.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if memory could not be allocted for serializing. </li>
<li><code>JW_ERR_INVALID_STATE</code> if the serializer is already open</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>ser != NULL </dd>
<dd>
root != NULL </dd>
<dd>
jw_dom_get_nodetype(root) == JW_DOM_TYPE_ELEMENT </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ser</td><td>The serializer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>The root DOM element </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if node was successfully opened, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2015 12:17:54 for JabberWerxC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
