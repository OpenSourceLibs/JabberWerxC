<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>JabberWerxC: stream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JabberWerxC
   &#160;<span id="projectnumber">2015.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_849b60ffe128985f6c5d0ef3e5284e22.html">include</a></li><li class="navelem"><a class="el" href="dir_9e648087d18bc011163f1fa270b33ab2.html">jabberwerx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions and data structures for Streams of XML data over a data transport, such as a TCP stream.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;event2/bufferevent.h&gt;</code><br />
<code>#include &quot;<a class="el" href="htable_8h_source.html">util/htable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eventing_8h_source.html">eventing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dom_8h_source.html">dom.h</a>&quot;</code><br />
</div>
<p><a href="stream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa79ce1adf24f0ff145e66ba2a8f744b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aa79ce1adf24f0ff145e66ba2a8f744b8">JW_STREAM_CONFIG_NAMESPACE</a>&#160;&#160;&#160;&quot;namespace&quot;</td></tr>
<tr class="separator:aa79ce1adf24f0ff145e66ba2a8f744b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5629c5e1b51e9608e9845d4854848dd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a5629c5e1b51e9608e9845d4854848dd3">JW_STREAM_CONFIG_DOMAIN</a>&#160;&#160;&#160;&quot;domain&quot;</td></tr>
<tr class="separator:a5629c5e1b51e9608e9845d4854848dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3883e0675668ec6a8d95818eacb066d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ab3883e0675668ec6a8d95818eacb066d">JW_STREAM_CONFIG_HOST</a>&#160;&#160;&#160;&quot;host&quot;</td></tr>
<tr class="separator:ab3883e0675668ec6a8d95818eacb066d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab817bc5badac26b9ccbd0cddb744b5ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ab817bc5badac26b9ccbd0cddb744b5ad">JW_STREAM_CONFIG_PORT</a>&#160;&#160;&#160;&quot;port&quot;</td></tr>
<tr class="separator:ab817bc5badac26b9ccbd0cddb744b5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139fd83c20241a908903fea9d317280b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a139fd83c20241a908903fea9d317280b">JW_STREAM_CONFIG_SELECTOR</a>&#160;&#160;&#160;<a class="el" href="workq_8h.html#ad2c26a96e743bf808915f7f431802346">JW_WORKQ_CONFIG_SELECTOR</a></td></tr>
<tr class="separator:a139fd83c20241a908903fea9d317280b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825f2e0b81606777232619b0c00f9c3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a825f2e0b81606777232619b0c00f9c3a">JW_STREAM_CONFIG_URI</a>&#160;&#160;&#160;&quot;uri&quot;</td></tr>
<tr class="separator:a825f2e0b81606777232619b0c00f9c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b002389fb02fa1ed8340f4e9b420b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a96b002389fb02fa1ed8340f4e9b420b9">JW_STREAM_CONFIG_LOG_LABEL</a>&#160;&#160;&#160;&quot;loglabel&quot;</td></tr>
<tr class="separator:a96b002389fb02fa1ed8340f4e9b420b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae289adbbbc65d5e5b0b34c47d67569ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ae289adbbbc65d5e5b0b34c47d67569ca">JW_STREAM_CONFIG_QUEUE_SIZE</a>&#160;&#160;&#160;&quot;queuesize&quot;</td></tr>
<tr class="separator:ae289adbbbc65d5e5b0b34c47d67569ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab538eab42bc7d72cebec7ae76de23ef3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ab538eab42bc7d72cebec7ae76de23ef3">JW_STREAM_CONFIG_KEEPALIVE_SECONDS</a>&#160;&#160;&#160;&quot;keepalive_seconds&quot;</td></tr>
<tr class="separator:ab538eab42bc7d72cebec7ae76de23ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47688806c62f549c3290b52bf00a0a14"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a47688806c62f549c3290b52bf00a0a14">JW_STREAM_CONFIG_TLS_CERTIFICATE_CHAIN_FILENAME</a>&#160;&#160;&#160;&quot;stream_cert_chain_file&quot;</td></tr>
<tr class="separator:a47688806c62f549c3290b52bf00a0a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69eb15b2a78ba92d42325cf07ebdd814"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a69eb15b2a78ba92d42325cf07ebdd814">JW_STREAM_CONFIG_TLS_PRIVATE_KEY_FILENAME</a>&#160;&#160;&#160;&quot;stream_private_key_file&quot;</td></tr>
<tr class="separator:a69eb15b2a78ba92d42325cf07ebdd814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3ad2d68286aae27e660b3309b4e849"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a1d3ad2d68286aae27e660b3309b4e849">JW_STREAM_CONFIG_BUFFEREVENT</a>&#160;&#160;&#160;&quot;socket_bufferevent&quot;</td></tr>
<tr class="separator:a1d3ad2d68286aae27e660b3309b4e849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea0260703a2f4b8b467cb13b5d7d0ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a8ea0260703a2f4b8b467cb13b5d7d0ad">JW_STREAM_EVENT_OPENED</a>&#160;&#160;&#160;&quot;streamOpened&quot;</td></tr>
<tr class="separator:a8ea0260703a2f4b8b467cb13b5d7d0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f283b013171f35238a42dcac9ffecc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a9f283b013171f35238a42dcac9ffecc8">JW_STREAM_EVENT_CLOSED</a>&#160;&#160;&#160;&quot;streamClosed&quot;</td></tr>
<tr class="separator:a9f283b013171f35238a42dcac9ffecc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30460eac92d5ed3cc8a32718aebc711c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a30460eac92d5ed3cc8a32718aebc711c">JW_STREAM_EVENT_ELEMRECV</a>&#160;&#160;&#160;&quot;streamElementsReceived&quot;</td></tr>
<tr class="separator:a30460eac92d5ed3cc8a32718aebc711c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63defb22e02605e3d06c18d72d3e5f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#ad63defb22e02605e3d06c18d72d3e5f2">JW_STREAM_EVENT_ELEMSENT</a>&#160;&#160;&#160;&quot;streamElementsSent&quot;</td></tr>
<tr class="separator:ad63defb22e02605e3d06c18d72d3e5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b740a2db167248362d2fb20246a463a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a4b740a2db167248362d2fb20246a463a">JW_STREAM_EVENT_DESTROYED</a>&#160;&#160;&#160;&quot;streamDestroyed&quot;</td></tr>
<tr class="separator:a4b740a2db167248362d2fb20246a463a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3aae910bace352397e6983c32fa25abd"><td class="memItemLeft" align="right" valign="top">typedef struct _jw_stream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a></td></tr>
<tr class="separator:a3aae910bace352397e6983c32fa25abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a12bda0476aaebe4573223bef85e30692"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a12bda0476aaebe4573223bef85e30692">jw_stream_bosh_create</a> (<a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a> *workq, <a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> **stream, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a12bda0476aaebe4573223bef85e30692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7589fd73c28daf0ea458b1e22ef22a24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a7589fd73c28daf0ea458b1e22ef22a24">jw_stream_socket_create</a> (<a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a> *workq, <a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> **stream, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a7589fd73c28daf0ea458b1e22ef22a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa511a48aa6614108157320590fed8524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aa511a48aa6614108157320590fed8524">jw_stream_destroy</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:aa511a48aa6614108157320590fed8524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5ab35ba0a0d5ff25f53bb7122b6a8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#abe5ab35ba0a0d5ff25f53bb7122b6a8e">jw_stream_open</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, <a class="el" href="htable_8h.html#a8d8ebb6284accb80e5858eafbff80119">jw_htable</a> *config, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:abe5ab35ba0a0d5ff25f53bb7122b6a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b03d1fa712421216d9de557f1db245d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a7b03d1fa712421216d9de557f1db245d">jw_stream_reopen</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a7b03d1fa712421216d9de557f1db245d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83611d47bdb9d5aa484c9beb7004d35c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a83611d47bdb9d5aa484c9beb7004d35c">jw_stream_send</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, <a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *dom, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a83611d47bdb9d5aa484c9beb7004d35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcc74ac5a785de3729e3d54c35560b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aabcc74ac5a785de3729e3d54c35560b0">jw_stream_close</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, <a class="el" href="basics_8h.html#adc7f33a4cb028ce477c9607327dde01c">jw_errcode</a> close_reason)</td></tr>
<tr class="separator:aabcc74ac5a785de3729e3d54c35560b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abf383f3ba260ef27b5755857480f55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a7abf383f3ba260ef27b5755857480f55">jw_stream_get_stream_id</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:a7abf383f3ba260ef27b5755857480f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffb476c9e2abd065584da2563c48285"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#afffb476c9e2abd065584da2563c48285">jw_stream_get_namespace</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:afffb476c9e2abd065584da2563c48285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3196ccbc2d9e4af02358f38b372d20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a6b3196ccbc2d9e4af02358f38b372d20">jw_stream_get_domain</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:a6b3196ccbc2d9e4af02358f38b372d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cb66178dd3bb1918628fd7f567cd1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct event_base *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a10cb66178dd3bb1918628fd7f567cd1b">jw_stream_get_selector</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:a10cb66178dd3bb1918628fd7f567cd1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70429fac71c36aaa8a661dce37b39a0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a70429fac71c36aaa8a661dce37b39a0b">jw_stream_get_workq</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:a70429fac71c36aaa8a661dce37b39a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedeb83705900f86cd2cecd692e74d007"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="htable_8h.html#a8d8ebb6284accb80e5858eafbff80119">jw_htable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#aedeb83705900f86cd2cecd692e74d007">jw_stream_get_config</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:aedeb83705900f86cd2cecd692e74d007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affafb636398854aab23c40c6beb36af1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#affafb636398854aab23c40c6beb36af1">jw_stream_is_open</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:affafb636398854aab23c40c6beb36af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d16dba2b4b4ecd29bdb2b22d8fdc212"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="eventing_8h.html#a54983c8c487b73d33efba11c7b52e827">jw_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a8d16dba2b4b4ecd29bdb2b22d8fdc212">jw_stream_event</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, const char *name)</td></tr>
<tr class="separator:a8d16dba2b4b4ecd29bdb2b22d8fdc212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0001bd067f62e7353a7be9065c498a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a1c0001bd067f62e7353a7be9065c498a">jw_stream_get_bufferevent</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream)</td></tr>
<tr class="separator:a1c0001bd067f62e7353a7be9065c498a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8caf74ae468239ada9a266cab30dd07d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a8caf74ae468239ada9a266cab30dd07d">jw_stream_set_bufferevent</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, struct bufferevent *bev, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a8caf74ae468239ada9a266cab30dd07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511847d9c4878ee1e602802c93352ce7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream_8h.html#a511847d9c4878ee1e602802c93352ce7">jw_stream_add_filter</a> (<a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *stream, bufferevent_filter_cb input, bufferevent_filter_cb output, int options, <a class="el" href="mem_8h.html#a399e3fa217f8ba88d165e055c9cd54df">jw_data_free_func</a> free_filter_ctx, void *ctx, <a class="el" href="structjw__err.html">jw_err</a> *err)</td></tr>
<tr class="separator:a511847d9c4878ee1e602802c93352ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions and data structures for Streams of XML data over a data transport, such as a TCP stream. </p>
<p>Copyrights</p>
<p>Portions created or assigned to Cisco Systems, Inc. are Copyright (c) 2010-2015 Cisco Systems, Inc. All Rights Reserved. See LICENSE for details. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1d3ad2d68286aae27e660b3309b4e849"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_BUFFEREVENT&#160;&#160;&#160;&quot;socket_bufferevent&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to provide a socket stream with a custom bufferevent (struct bufferevent *). The bufferevent must already be connected (BEV_EVENT_CONNECTED), and hence no DNS resolution will happen. Also, the bufferevent must be assigned to the event_base of the stream. The user is responsible for freeing the bufferevent (via bufferevent_free()). BOSH connections ignore this config option. </p>

</div>
</div>
<a class="anchor" id="a5629c5e1b51e9608e9845d4854848dd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_DOMAIN&#160;&#160;&#160;&quot;domain&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the XMPP domain. The value for this option MUST be a UTF-8 encoded string (char *). </p>

</div>
</div>
<a class="anchor" id="ab3883e0675668ec6a8d95818eacb066d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_HOST&#160;&#160;&#160;&quot;host&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the remote host IP address. The value for this option MUST be a UTF-8 encoded string (char *). If not specified, it defaults to the value of JW_STREAM_CONFIG_DOMAIN. </p>

</div>
</div>
<a class="anchor" id="ab538eab42bc7d72cebec7ae76de23ef3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_KEEPALIVE_SECONDS&#160;&#160;&#160;&quot;keepalive_seconds&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the number of seconds (and optional milliseconds) of inactivity to allow before a keepalive action is taken. For socket connections, a whitespace keepalive packet will be sent. For bosh connections, an idle HTTP connection to the server will be closed and another will be established. The value for this option MUST be a UTF-8 encoded string (char *) representing a real number where the whole number part specifies seconds and the fractional part milliseconds (for example "30" or "30.0"). If not specified, or specified as the value less than or equal to 0, a default value of 270 seconds is used. </p>

</div>
</div>
<a class="anchor" id="a96b002389fb02fa1ed8340f4e9b420b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_LOG_LABEL&#160;&#160;&#160;&quot;loglabel&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optional configuration option to specify a label for log messages related to this stream instance. The value MUST be a UTF-8 encoded string (char *). </p>

</div>
</div>
<a class="anchor" id="aa79ce1adf24f0ff145e66ba2a8f744b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_NAMESPACE&#160;&#160;&#160;&quot;namespace&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the XMPP namespace. The value for this option MUST be a UTF-8 encoded string (char *). </p>

</div>
</div>
<a class="anchor" id="ab817bc5badac26b9ccbd0cddb744b5ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_PORT&#160;&#160;&#160;&quot;port&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the remote port for socket connections. The value for this option MUST be a UTF-8 encoded string (char *). BOSH connections ignore this config option and instead read the port specifier from the JW_STREAM_CONFIG_URI option. This configuration element is required for socket connections unless JW_STREAM_CONFIG_BUFFEREVENT is specified. </p>

</div>
</div>
<a class="anchor" id="ae289adbbbc65d5e5b0b34c47d67569ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_QUEUE_SIZE&#160;&#160;&#160;&quot;queuesize&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the receive/send queue size for socket streams. Larger queues allow more stanzas to be sent in quick succession, such as when the stream is resuming after a network interruption and multiple stanzas need to be resent to the server. The value for this option MUST be a (size_t)(uintptr_t) value. If not specified, or specified as the value 0, a default value of 500 is used. </p>

</div>
</div>
<a class="anchor" id="a139fd83c20241a908903fea9d317280b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_SELECTOR&#160;&#160;&#160;<a class="el" href="workq_8h.html#ad2c26a96e743bf808915f7f431802346">JW_WORKQ_CONFIG_SELECTOR</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the event_base selector. The value for this option MUST be a struct event_base*. If not specified, the selector is taken from the jw_workq specified in JW_STREAM_CONFIG_WORKQ. </p>

</div>
</div>
<a class="anchor" id="a47688806c62f549c3290b52bf00a0a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_TLS_CERTIFICATE_CHAIN_FILENAME&#160;&#160;&#160;&quot;stream_cert_chain_file&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the name of the file that contains the certificate chain to use for authorization (OPTIONAL). The certificates must be in PEM format and must be sorted starting with the client certificate, followed by intermediate CA certificates if applicable, and ending at the highest level (root) CA. The value for this option MUST be a string that represents the path to the certificate chain file. Note this this option is currently only implemented for socket connections. </p>

</div>
</div>
<a class="anchor" id="a69eb15b2a78ba92d42325cf07ebdd814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_TLS_PRIVATE_KEY_FILENAME&#160;&#160;&#160;&quot;stream_private_key_file&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the name of the file that contains the private key (in PEM format) to use for authorization (OPTIONAL). The value for this option MUST be a string that represents the path to the private key file. Note this this option is currently only implemented for socket connections. </p>

</div>
</div>
<a class="anchor" id="a825f2e0b81606777232619b0c00f9c3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_CONFIG_URI&#160;&#160;&#160;&quot;uri&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration option to specify the URI for BOSH. The value for this MUST be a UTF-8 encoded string (char *). </p>

</div>
</div>
<a class="anchor" id="a9f283b013171f35238a42dcac9ffecc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_EVENT_CLOSED&#160;&#160;&#160;&quot;streamClosed&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "streamClosed" event, as documented in <a href="../../events.rst">Events</a>. </p>

</div>
</div>
<a class="anchor" id="a4b740a2db167248362d2fb20246a463a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_EVENT_DESTROYED&#160;&#160;&#160;&quot;streamDestroyed&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "streamDestroyed" event, as documented in <a href="../../events.rst">Events</a>. </p>

</div>
</div>
<a class="anchor" id="a30460eac92d5ed3cc8a32718aebc711c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_EVENT_ELEMRECV&#160;&#160;&#160;&quot;streamElementsReceived&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "streamElementsReceived" event, as documented in <a href="../../events.rst">Events</a>. </p>

</div>
</div>
<a class="anchor" id="ad63defb22e02605e3d06c18d72d3e5f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_EVENT_ELEMSENT&#160;&#160;&#160;&quot;streamElementsSent&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "streamElementsSent" event, as documented in <a href="../../events.rst">Events</a>. </p>

</div>
</div>
<a class="anchor" id="a8ea0260703a2f4b8b467cb13b5d7d0ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JW_STREAM_EVENT_OPENED&#160;&#160;&#160;&quot;streamOpened&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "streamOpened" event, as documented in <a href="../../events.rst">Events</a>. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a3aae910bace352397e6983c32fa25abd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _jw_stream <a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An instance of a stream. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a511847d9c4878ee1e602802c93352ce7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct bufferevent* jw_stream_add_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_filter_cb&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_filter_cb&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem_8h.html#a399e3fa217f8ba88d165e055c9cd54df">jw_data_free_func</a>&#160;</td>
          <td class="paramname"><em>free_filter_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to set a bufferevent filter on the stream. This function can be used when the newly created filter should use the <code>jw_stream</code> default read and write functions. If the filter should use customized functions they must be set manually through the libevent API. This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_INVALID_STATE</code> if the stream has not yet been opened. </li>
<li><code>JW_ERR_INVALID_ARG</code> if the <code>bufferevent_filter_cb</code> input or output arguements are NULL. </li>
<li><code>JW_ERR_NO_MEMORY</code> if the bufferevent could not be allocated.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream being filtered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input filter callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output</td><td>The output filter callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>The libevent bufferevent filter create options. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_filter_ctx</td><td>Callback function to clean custom <code>ctx</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>Application specific data for filter. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">struct</td><td>bufferevent* The new filter, or NULL if error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a12bda0476aaebe4573223bef85e30692"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_bosh_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a> *&#160;</td>
          <td class="paramname"><em>workq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> **&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a BOSH stream.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if the stream could not be allocated, if the event dispatcher could not be allocated, or the individual events could not be allocated. </li>
<li><code>JW_ERR_NOT_IMPLEMENTED</code> if BOSH support has not been compiled into this distributable.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>workq != NULL </dd>
<dd>
stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workq</td><td>the workq to use for triggering events asynchronously </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stream</td><td>The newly created stream. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the stream was created successfully. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aabcc74ac5a785de3729e3d54c35560b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_stream_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="basics_8h.html#adc7f33a4cb028ce477c9607327dde01c">jw_errcode</a>&#160;</td>
          <td class="paramname"><em>close_reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the stream.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to close. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">close_reason</td><td>The error that precipitated this closure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa511a48aa6614108157320590fed8524"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> void jw_stream_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the stream.</p>
<p><b>NOTE:</b> This is an asynchronous operation and requires the libevent event loop to run in order to complete.</p>
<p><b>NOTE:</b> This function does not release the config, if any were still applied. The API user is expected to release the config hashtable manually when/after the JW_STREAM_EVENT_DESTROYED event is fired.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The jw_stream to clean up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d16dba2b4b4ecd29bdb2b22d8fdc212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="eventing_8h.html#a54983c8c487b73d33efba11c7b52e827">jw_event</a>* jw_stream_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a stream event. Returns the event on success and NULL if event is not found. The memory allocated for the event will continue to be owned by the stream.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd>
<dd>
name != NULL </dd>
<dd>
*name != '\0' </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream owning the event dispatcher. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_event</td><td>The found event or NULL if it does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1c0001bd067f62e7353a7be9065c498a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct bufferevent* jw_stream_get_bufferevent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current stream bufferevent for this object.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream owning the bufferevent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">struct</td><td>bufferevent* The currently owned bufferevent or NULL if it does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aedeb83705900f86cd2cecd692e74d007"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="htable_8h.html#a8d8ebb6284accb80e5858eafbff80119">jw_htable</a>* jw_stream_get_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the collection of configuration options associated with the stream. The value returned by this function is not owned by the stream. The API user is expected to release the config hashtable sometime after this stream is destroyed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_htable</td><td>The associated collection of configuration options. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6b3196ccbc2d9e4af02358f38b372d20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_stream_get_domain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the domain associated with the stream The value returned by this function is owned by the stream. This memory will be released when the stream is destroyed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">const</td><td>char* The associated domain. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afffb476c9e2abd065584da2563c48285"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_stream_get_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the namespace for the stream's payload. The value returned by this function is owned by the stream. This memory will be released when the stream is destroyed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">const</td><td>char* The associated namespace. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a10cb66178dd3bb1918628fd7f567cd1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> struct event_base* jw_stream_get_selector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the selector associated with the stream The value returned by this function is owned by the stream. This memory will be released when the stream is destroyed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">struct</td><td>event_base* The associated selector. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7abf383f3ba260ef27b5755857480f55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> const char* jw_stream_get_stream_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the stream ID associated with the stream. The value returned by this function is owned by the stream. This memory will be released when the stream is destroyed.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">const</td><td>char* The associated stream ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a70429fac71c36aaa8a661dce37b39a0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> <a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a>* jw_stream_get_workq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the workq associated with the stream.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">jw_workq*</td><td>The associated workq. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="affafb636398854aab23c40c6beb36af1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_is_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag used to determine if the stream is open and ready to send and receive data.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the stream is open and ready. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe5ab35ba0a0d5ff25f53bb7122b6a8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="htable_8h.html#a8d8ebb6284accb80e5858eafbff80119">jw_htable</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the stream. This function begins the process of connecting to an XMPP remote endpoint. It may return before the stream is ready for use; bind a callback to the "streamOpened" event to know when a stream is fully open and ready for use. It is RECOMMENDED to also bind a callback to the "streamClosed" event to be informed of errors.</p>
<p>The config MUST have values for the following: </p><ul>
<li>JW_STREAM_CONFIG_NAMESPACE </li>
<li>JW_STREAM_CONFIG_DOMAIN</li>
</ul>
<p>For bosh streams, the following items must additionally be set: </p><ul>
<li>JW_STREAM_CONFIG_URI</li>
</ul>
<p>The following config values are always enforced: </p><ul>
<li>JW_STREAM_CONFIG_SELECTOR is the selector from the workq passed to the create() function</li>
</ul>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if the connection objects could not be allocated </li>
<li><code>JW_ERR_INVALID_STATE</code> if the stream is not in a closed state </li>
<li><code>JW_ERR_INVALID_ARG</code> if required fields in the config are missing or invalid</li>
</ul>
<p><b>NOTE:</b> Due to the asynchronous nature of streams, this function may return true but the operation fails. Such failures will be reported via the "streamClosed" event.</p>
<p><b>NOTE:</b> This function does not take ownership of the config. The API user is expected to release the config hashtable either within the callback for the "streamDestroyed" event or sometime after the event has fired.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd>
<dd>
config != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>The collection of configuration options for the stream. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b03d1fa712421216d9de557f1db245d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_reopen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reopens the stream. This function resets all XML information and sends a new &lt;stream:stream&gt; opening tag. It may return before the stream is again ready for use; bind a callback to the "streamOpened" event to know when a stream is fully open and ready for use. It is RECOMMENDED to also bind a callback to the "streamClosed" event to be informed of errors.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_INVALID_STATE</code> if the stream is not in a ready state</li>
</ul>
<p><b>NOTE:</b> Due to the asynchronous nature of streams, this function may return true but the operation fails. Such failures will be reported via the "streamClosed" event.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to reopen. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83611d47bdb9d5aa484c9beb7004d35c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dom_8h.html#a84660cb6714bf52c6a1dd6cfab3d6289">jw_dom_node</a> *&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a DOM through the stream.</p>
<p><b>NOTE:</b> The stream takes ownership of the stanza's memory, regardless of whether it is successfully sent. The caller MUST NOT destroy the stanza. If you need to access the stanza or its context after this call, ensure you first call <a class="el" href="dom_8h.html#a84d34d5956514a15ac13e83ee50316f9">jw_dom_context_retain()</a> to increment the context refcount.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if memory to serialize the DOM could not be allocated </li>
<li><code>JW_ERR_INVALID_STATE</code> if the stream is not open</li>
</ul>
<p><b>NOTE:</b> Due to the asynchronous nature of streams, this function may return true but the operation fails. Such failures will be reported via the "streamClosed" event.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd>
<dd>
dom != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dom</td><td>The dom to send. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8caf74ae468239ada9a266cab30dd07d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_set_bufferevent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the current stream bufferevent for this object.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_INVALID_STATE</code> if the stream has not yet been opened. </li>
<li><code>JW_ERR_INVALID_ARG</code> if the <code>struct</code> bufferevent* argument is NULL.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream getting set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bev</td><td>The bufferevent to be set. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7589fd73c28daf0ea458b1e22ef22a24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basics_8h.html#a83a72fcd21631ca7baf97aaaa2778200">JABBERWERX_API</a> bool jw_stream_socket_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="workq_8h.html#ae9b96f85721e7a87aa744ab6a2577967">jw_workq</a> *&#160;</td>
          <td class="paramname"><em>workq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stream_8h.html#a3aae910bace352397e6983c32fa25abd">jw_stream</a> **&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjw__err.html">jw_err</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a long-lived TCP stream.</p>
<p>This function can generate the following errors (set when returning false): </p><ul>
<li><code>JW_ERR_NO_MEMORY</code> if the stream could not be allocated, if the event dispatcher could not be allocated, or the individual events could not be allocated.</li>
</ul>
<dl class="section invariant"><dt>Invariant</dt><dd>workq != NULL </dd>
<dd>
stream != NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workq</td><td>the workq to use for triggering events asynchronously </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stream</td><td>The newly created stream. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>The error information (provide NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the stream was created successfully. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2015 12:17:54 for JabberWerxC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
